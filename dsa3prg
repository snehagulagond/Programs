/*Develop a menu driven Program in C for the following operations on STACK of Integers (Array Implementation of Stack with maximum size MAX)
a) Push an Element on to Stack
b) Pop an Element from Stack
c) Demonstrate how Stack can be used to check Palindrome
d) Demonstrate Overflow and Underflow situations on Stack
e) Display the status of Stack
f) Exit*/
#include <stdio.h>
#include <stdlib.h>
#define MAX 3
int s[MAX];
int top = -1;

void push(int item);
int pop();
void palindrome();
void display();

int main() {
    int choice, item;
    while (1) {
        printf("\n\n-----------Menu-----------");
        printf("\n1. Push an Element to Stack (Overflow Demo)");
        printf("\n2. Pop an Element from Stack (Underflow Demo)");
        printf("\n3. Check Palindrome");
        printf("\n4. Display Stack");
        printf("\n5. Exit");
        printf("\nEnter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1:
                printf("\nEnter an element to be pushed: ");
                scanf("%d", &item);
                push(item);
                break;
            case 2:
                item = pop();
                if (item != -1)
                    printf("\nElement popped is: %d", item);
                break;
            case 3:
                palindrome();
                break;
            case 4:
                display();
                break;
            case 5:
                exit(0);
            default:
                printf("\nPlease enter a valid choice.");
        }
    }
    return 0;
}

void push(int item) {
    if (top == MAX - 1) {
        printf("\n-----------Stack overflow-----------");
        return;
    }
    s[++top] = item;
}

int pop() {
    if (top == -1) {
        printf("\n-----------Stack underflow-----------");
        return -1;
    }
    return s[top--];
}

void display() {
    if (top == -1) {
        printf("\n-----------Stack is empty-----------");
        return;
    }
    printf("\nStack elements (top to bottom):\n");
    for (int i = top; i >= 0; i--)
        printf("| %d |\n", s[i]);
}

void palindrome() {
    if (top == -1) {
        printf("\nStack is empty — cannot check palindrome.");
        return;
    }

    printf("\nStack contents (top to bottom):\n");
    for (int i = top; i >= 0; i--)
        printf("| %d |\n", s[i]);

    printf("\nReverse (bottom to top):\n");
    for (int i = 0; i <= top; i++)
        printf("| %d |\n", s[i]);

    int flag = 1;
    for (int i = 0; i <= top / 2; i++) {
        if (s[i] != s[top - i]) {
            flag = 0;
            break;
        }
    }

    if (flag)
        printf("\nThe stack contents form a palindrome.");
    else
        printf("\nThe stack contents do not form a palindrome.");
}